<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>UI 표준 점검 설정</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css" />
</head>
<body>
  <div id="root"></div>
  <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
  <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
  <script type="text/babel" data-presets="react">
    function App() {
      const [activeCheckItem, setActiveCheckItem] = React.useState('tabOrder');
      
      const checkItems = [
        { id: 'tabOrder', name: 'Tab Order 점검', icon: 'fas fa-keyboard' },
        { id: 'inputFormat', name: 'Input Box 문자 입력 Format 점검', icon: 'fas fa-edit' },
        { id: 'maxLength', name: 'Max Length 점검', icon: 'fas fa-ruler-horizontal' },
        { id: 'spellCheck', name: '맞춤법 점검', icon: 'fas fa-spell-check' }
      ];

      const [checkConfigs, setCheckConfigs] = React.useState({
        tabOrder: {
          enabled: true,
          checkId: "TAB_ORDER_001",
          functionName: "runTabOrderCheck",
          selector: "input, button, select, textarea, a[href]",
          description: "Tab 키를 통한 포커스 이동 순서가 논리적인지 검사합니다.",
          guide: "Tab 순서는 화면의 논리적 흐름을 따라야 합니다. 일반적으로 좌상단에서 우하단 순서로 이동해야 합니다.",
          rules: {
            checkLogicalOrder: true,
            allowSkipNavigation: true,
            checkVisibleElementsOnly: true
          }
        },
        inputFormat: {
          enabled: true,
          checkId: "INPUT_FORMAT_001",
          functionName: "runFormatCheck",
          selector: "input, textarea",
          description: "입력 필드의 형식이 표준에 맞는지 검사합니다.",
          guide: "이메일, 전화번호, 주민등록번호 등의 형식을 올바르게 검증해야 합니다.",
          standard: [
            {
              label: "이메일",
              keywords: ["이메일", "메일", "email", "e-mail"],
              rules: {
                format: "****@****.***",
                regex: "^[\\w.-]+@[\\w.-]+\\.\\w+$"
              }
            },
            {
              label: "주민등록번호",
              keywords: ["주민번호", "rrn", "resident"],
              rules: {
                format: "999999-9******",
                length: 13
              }
            }
          ]
        },
        maxLength: {
          enabled: true,
          checkId: "MAX_LENGTH_001",
          functionName: "runMaxLengthCheck",
          selector: "input[type='text'], textarea",
          description: "입력 필드의 최대 길이 제한이 적절히 설정되었는지 검사합니다.",
          guide: "각 입력 필드는 데이터베이스 컬럼 크기와 일치하는 maxlength 속성을 가져야 합니다.",
          rules: {
            checkMaxLengthAttribute: true,
            defaultMaxLength: 255,
            fieldTypes: {
              name: 50,
              email: 100,
              phone: 20,
              address: 200,
              description: 1000
            }
          }
        },
        spellCheck: {
          enabled: true,
          checkId: "SPELL_CHECK_001",
          functionName: "runSpellCheck",
          selector: "label, button, .text-content",
          description: "화면에 표시되는 텍스트의 맞춤법과 표기법을 검사합니다.",
          guide: "공공기관 표준 맞춤법 및 표기법을 준수해야 합니다.",
          rules: {
            checkKoreanSpelling: true,
            checkEnglishSpelling: true,
            checkTerminology: true,
            customDictionary: []
          }
        }
      });

      const updateCheckConfig = (checkItemId, field, value) => {
        setCheckConfigs(prev => ({
          ...prev,
          [checkItemId]: {
            ...prev[checkItemId],
            [field]: value
          }
        }));
      };

      const updateCheckRule = (checkItemId, ruleKey, value) => {
        setCheckConfigs(prev => ({
          ...prev,
          [checkItemId]: {
            ...prev[checkItemId],
            rules: {
              ...prev[checkItemId].rules,
              [ruleKey]: value
            }
          }
        }));
      };

      const updateInputFormatStandard = (index, field, value) => {
        setCheckConfigs(prev => ({
          ...prev,
          inputFormat: {
            ...prev.inputFormat,
            standard: prev.inputFormat.standard.map((item, i) => 
              i === index ? { ...item, [field]: value } : item
            )
          }
        }));
      };

      const addInputFormatStandard = () => {
        const newStandard = {
          label: "",
          keywords: [""],
          rules: {}
        };
        setCheckConfigs(prev => ({
          ...prev,
          inputFormat: {
            ...prev.inputFormat,
            standard: [...prev.inputFormat.standard, newStandard]
          }
        }));
      };

      const deleteInputFormatStandard = (index) => {
        setCheckConfigs(prev => ({
          ...prev,
          inputFormat: {
            ...prev.inputFormat,
            standard: prev.inputFormat.standard.filter((_, i) => i !== index)
          }
        }));
      };

      const saveConfig = () => {
        const configJson = JSON.stringify(checkConfigs, null, 2);
        const blob = new Blob([configJson], { type: 'application/json' });
        const url = URL.createObjectURL(blob);
        const a = document.createElement('a');
        a.href = url;
        a.download = 'ui-standard-check-config.json';
        document.body.appendChild(a);
        a.click();
        document.body.removeChild(a);
        URL.revokeObjectURL(url);
        alert('설정이 저장되었습니다.');
      };

      const currentConfig = checkConfigs[activeCheckItem];
      const currentCheckItem = checkItems.find(item => item.id === activeCheckItem);

      return (
        <div className="min-h-screen bg-gray-50 p-6">
          <div className="max-w-7xl mx-auto">
            {/* 헤더 */}
            <div className="flex items-center justify-between mb-8">
              <div className="flex items-center space-x-4">
                <button 
                  onClick={() => window.location.href = 'index.html'}
                  className="flex items-center space-x-2 text-gray-600 hover:text-gray-900 transition-colors"
                >
                  <i className="fas fa-arrow-left"></i>
                  <span>뒤로가기</span>
                </button>
                <h1 className="text-3xl font-bold text-gray-900">UI 표준 점검 설정</h1>
              </div>
              <button 
                onClick={saveConfig}
                className="bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center space-x-2"
              >
                <i className="fas fa-save"></i>
                <span>저장</span>
              </button>
            </div>

            <div className="grid grid-cols-12 gap-6">
              {/* 왼쪽 사이드바 - 점검 항목 목록 */}
              <div className="col-span-3">
                <div className="bg-white rounded-lg shadow-sm border border-gray-200 p-4">
                  <div className="mb-4">
                    <h3 className="font-semibold text-gray-900">점검 항목</h3>
                  </div>
                  
                  <div className="space-y-2">
                    {checkItems.map((item) => (
                      <div 
                        key={item.id}
                        onClick={() => setActiveCheckItem(item.id)}
                        className={`p-3 rounded-lg cursor-pointer transition-colors ${
                          activeCheckItem === item.id 
                            ? 'bg-blue-50 border-blue-200 border' 
                            : 'bg-gray-50 hover:bg-gray-100 border border-transparent'
                        }`}
                      >
                        <div className="flex items-center space-x-3">
                          <div className={`w-8 h-8 rounded-full flex items-center justify-center ${
                            activeCheckItem === item.id ? 'bg-blue-100' : 'bg-gray-200'
                          }`}>
                            <i className={`${item.icon} text-sm ${
                              activeCheckItem === item.id ? 'text-blue-600' : 'text-gray-600'
                            }`}></i>
                          </div>
                          <div>
                            <div className="font-medium text-sm text-gray-900">
                              {item.name}
                            </div>
                          </div>
                        </div>
                      </div>
                    ))}
                  </div>
                </div>

                {/* 기본 설정 */}
                <div className="bg-white rounded-lg shadow-sm border border-gray-200 p-4 mt-4">
                  <h3 className="font-semibold text-gray-900 mb-4">기본 설정</h3>
                  
                  <div className="space-y-4">
                    <div>
                      <label className="block text-sm font-medium text-gray-700 mb-1">
                        사용여부
                      </label>
                      <label className="flex items-center">
                        <input 
                          type="checkbox" 
                          checked={currentConfig.enabled} 
                          onChange={(e) => updateCheckConfig(activeCheckItem, 'enabled', e.target.checked)}
                          className="form-checkbox h-4 w-4 text-blue-600" 
                        />
                        <span className="ml-2 text-sm text-gray-700">활성화</span>
                      </label>
                    </div>

                    <div>
                      <label className="block text-sm font-medium text-gray-700 mb-1">
                        점검 ID
                      </label>
                      <input
                        type="text"
                        value={currentConfig.checkId}
                        onChange={(e) => updateCheckConfig(activeCheckItem, 'checkId', e.target.value)}
                        className="w-full p-2 border border-gray-300 rounded-md text-sm"
                      />
                    </div>

                    <div>
                      <label className="block text-sm font-medium text-gray-700 mb-1">
                        함수명
                      </label>
                      <input
                        type="text"
                        value={currentConfig.functionName}
                        onChange={(e) => updateCheckConfig(activeCheckItem, 'functionName', e.target.value)}
                        className="w-full p-2 border border-gray-300 rounded-md text-sm"
                      />
                    </div>

                    <div>
                      <label className="block text-sm font-medium text-gray-700 mb-1">
                        CSS 선택자
                      </label>
                      <input
                        type="text"
                        value={currentConfig.selector}
                        onChange={(e) => updateCheckConfig(activeCheckItem, 'selector', e.target.value)}
                        className="w-full p-2 border border-gray-300 rounded-md text-sm"
                      />
                    </div>

                    <div>
                      <label className="block text-sm font-medium text-gray-700 mb-1">
                        점검 기준 상세
                      </label>
                      <textarea
                        value={currentConfig.description}
                        onChange={(e) => updateCheckConfig(activeCheckItem, 'description', e.target.value)}
                        className="w-full h-20 p-2 border border-gray-300 rounded-md text-sm"
                      />
                    </div>

                    <div>
                      <label className="block text-sm font-medium text-gray-700 mb-1">
                        표준 가이드
                      </label>
                      <textarea
                        value={currentConfig.guide}
                        onChange={(e) => updateCheckConfig(activeCheckItem, 'guide', e.target.value)}
                        placeholder="개발자가 참고할 수 있는 표준 가이드 내용을 입력하세요."
                        className="w-full h-32 p-2 border border-gray-300 rounded-md text-sm"
                      />
                    </div>
                  </div>
                </div>
              </div>

              {/* 메인 콘텐츠 */}
              <div className="col-span-9">
                <div className="bg-white rounded-lg shadow-sm border border-gray-200 p-6">
                  <div className="flex items-center justify-between mb-6">
                    <h2 className="text-xl font-semibold text-gray-900 flex items-center space-x-3">
                      <i className={`${currentCheckItem.icon} text-blue-600`}></i>
                      <span>{currentCheckItem.name} 설정</span>
                    </h2>
                  </div>

                  {/* Tab Order 점검 설정 */}
                  {activeCheckItem === 'tabOrder' && (
                    <div className="space-y-6">
                      <div className="bg-blue-50 p-4 rounded-lg">
                        <h3 className="font-medium text-blue-900 mb-2">Tab Order 점검이란?</h3>
                        <p className="text-blue-800 text-sm">{currentConfig.description}</p>
                      </div>
                      
                      <div className="space-y-4">
                        <h4 className="font-medium text-gray-900">점검 규칙 설정</h4>
                        <div className="grid grid-cols-1 gap-4">
                          <label className="flex items-center">
                            <input 
                              type="checkbox" 
                              checked={currentConfig.rules.checkLogicalOrder}
                              onChange={(e) => updateCheckRule(activeCheckItem, 'checkLogicalOrder', e.target.checked)}
                              className="form-checkbox h-4 w-4 text-blue-600 mr-2" 
                            />
                            <span className="text-sm">논리적 순서 확인</span>
                          </label>
                          <label className="flex items-center">
                            <input 
                              type="checkbox" 
                              checked={currentConfig.rules.allowSkipNavigation}
                              onChange={(e) => updateCheckRule(activeCheckItem, 'allowSkipNavigation', e.target.checked)}
                              className="form-checkbox h-4 w-4 text-blue-600 mr-2" 
                            />
                            <span className="text-sm">건너뛰기 네비게이션 허용</span>
                          </label>
                          <label className="flex items-center">
                            <input 
                              type="checkbox" 
                              checked={currentConfig.rules.checkVisibleElementsOnly}
                              onChange={(e) => updateCheckRule(activeCheckItem, 'checkVisibleElementsOnly', e.target.checked)}
                              className="form-checkbox h-4 w-4 text-blue-600 mr-2" 
                            />
                            <span className="text-sm">보이는 요소만 검사</span>
                          </label>
                        </div>
                      </div>
                    </div>
                  )}

                  {/* Input Format 점검 설정 */}
                  {activeCheckItem === 'inputFormat' && (
                    <div className="space-y-6">
                      <div className="bg-green-50 p-4 rounded-lg">
                        <h3 className="font-medium text-green-900 mb-2">Input Format 점검이란?</h3>
                        <p className="text-green-800 text-sm">{currentConfig.description}</p>
                      </div>

                      <div className="space-y-4">
                        <div className="flex items-center justify-between">
                          <h4 className="font-medium text-gray-900">형식 표준 목록</h4>
                          <button 
                            onClick={addInputFormatStandard}
                            className="text-blue-600 hover:text-blue-700 text-sm"
                          >
                            <i className="fas fa-plus mr-1"></i>형식 추가
                          </button>
                        </div>
                        
                        <div className="space-y-4">
                          {currentConfig.standard.map((standard, index) => (
                            <div key={index} className="border border-gray-200 rounded-lg p-4">
                              <div className="flex items-center justify-between mb-3">
                                <h5 className="font-medium text-gray-900">{standard.label || `형식 ${index + 1}`}</h5>
                                <button 
                                  onClick={() => deleteInputFormatStandard(index)}
                                  className="text-red-500 hover:text-red-700 text-sm"
                                >
                                  <i className="fas fa-trash"></i>
                                </button>
                              </div>
                              
                              <div className="grid grid-cols-2 gap-4 mb-3">
                                <div>
                                  <label className="block text-sm font-medium text-gray-700 mb-1">라벨</label>
                                  <input
                                    type="text"
                                    value={standard.label}
                                    onChange={(e) => updateInputFormatStandard(index, 'label', e.target.value)}
                                    className="w-full p-2 border border-gray-300 rounded-md text-sm"
                                    placeholder="예: 이메일"
                                  />
                                </div>
                                <div>
                                  <label className="block text-sm font-medium text-gray-700 mb-1">키워드 (쉼표로 구분)</label>
                                  <input
                                    type="text"
                                    value={standard.keywords.join(', ')}
                                    onChange={(e) => updateInputFormatStandard(index, 'keywords', e.target.value.split(',').map(k => k.trim()))}
                                    className="w-full p-2 border border-gray-300 rounded-md text-sm"
                                    placeholder="이메일, 메일, email"
                                  />
                                </div>
                              </div>
                              
                              <div className="space-y-2">
                                <label className="block text-sm font-medium text-gray-700">검증 규칙</label>
                                {Object.entries(standard.rules || {}).map(([ruleKey, ruleValue]) => (
                                  <div key={ruleKey} className="flex items-center space-x-2">
                                    <span className="w-20 text-sm font-medium text-gray-700">{ruleKey}:</span>
                                    <input
                                      type="text"
                                      value={ruleValue}
                                      onChange={(e) => {
                                        const newStandard = {...standard};
                                        newStandard.rules[ruleKey] = e.target.value;
                                        updateInputFormatStandard(index, 'rules', newStandard.rules);
                                      }}
                                      className="flex-1 p-2 border border-gray-300 rounded-md text-sm"
                                    />
                                  </div>
                                ))}
                              </div>
                            </div>
                          ))}
                        </div>
                      </div>
                    </div>
                  )}

                  {/* Max Length 점검 설정 */}
                  {activeCheckItem === 'maxLength' && (
                    <div className="space-y-6">
                      <div className="bg-yellow-50 p-4 rounded-lg">
                        <h3 className="font-medium text-yellow-900 mb-2">Max Length 점검이란?</h3>
                        <p className="text-yellow-800 text-sm">{currentConfig.description}</p>
                      </div>
                      
                      <div className="space-y-4">
                        <h4 className="font-medium text-gray-900">길이 제한 설정</h4>
                        <div className="grid grid-cols-2 gap-4">
                          <div>
                            <label className="block text-sm font-medium text-gray-700 mb-1">기본 최대 길이</label>
                            <input
                              type="number"
                              value={currentConfig.rules.defaultMaxLength}
                              onChange={(e) => updateCheckRule(activeCheckItem, 'defaultMaxLength', parseInt(e.target.value))}
                              className="w-full p-2 border border-gray-300 rounded-md text-sm"
                            />
                          </div>
                          <div>
                            <label className="flex items-center">
                              <input 
                                type="checkbox" 
                                checked={currentConfig.rules.checkMaxLengthAttribute}
                                onChange={(e) => updateCheckRule(activeCheckItem, 'checkMaxLengthAttribute', e.target.checked)}
                                className="form-checkbox h-4 w-4 text-blue-600 mr-2" 
                              />
                              <span className="text-sm">maxlength 속성 검사</span>
                            </label>
                          </div>
                        </div>
                        
                        <div>
                          <h5 className="font-medium text-gray-900 mb-2">필드 유형별 길이 설정</h5>
                          <div className="space-y-2">
                            {Object.entries(currentConfig.rules.fieldTypes).map(([fieldType, length]) => (
                              <div key={fieldType} className="flex items-center space-x-2">
                                <span className="w-24 text-sm font-medium text-gray-700">{fieldType}:</span>
                                <input
                                  type="number"
                                  value={length}
                                  onChange={(e) => {
                                    const newFieldTypes = {...currentConfig.rules.fieldTypes};
                                    newFieldTypes[fieldType] = parseInt(e.target.value);
                                    updateCheckRule(activeCheckItem, 'fieldTypes', newFieldTypes);
                                  }}
                                  className="w-24 p-2 border border-gray-300 rounded-md text-sm"
                                />
                              </div>
                            ))}
                          </div>
                        </div>
                      </div>
                    </div>
                  )}

                  {/* 맞춤법 점검 설정 */}
                  {activeCheckItem === 'spellCheck' && (
                    <div className="space-y-6">
                      <div className="bg-purple-50 p-4 rounded-lg">
                        <h3 className="font-medium text-purple-900 mb-2">맞춤법 점검이란?</h3>
                        <p className="text-purple-800 text-sm">{currentConfig.description}</p>
                      </div>
                      
                      <div className="space-y-4">
                        <h4 className="font-medium text-gray-900">점검 옵션</h4>
                        <div className="space-y-3">
                          <label className="flex items-center">
                            <input 
                              type="checkbox" 
                              checked={currentConfig.rules.checkKoreanSpelling}
                              onChange={(e) => updateCheckRule(activeCheckItem, 'checkKoreanSpelling', e.target.checked)}
                              className="form-checkbox h-4 w-4 text-blue-600 mr-2" 
                            />
                            <span className="text-sm">한국어 맞춤법 검사</span>
                          </label>
                          <label className="flex items-center">
                            <input 
                              type="checkbox" 
                              checked={currentConfig.rules.checkEnglishSpelling}
                              onChange={(e) => updateCheckRule(activeCheckItem, 'checkEnglishSpelling', e.target.checked)}
                              className="form-checkbox h-4 w-4 text-blue-600 mr-2" 
                            />
                            <span className="text-sm">영어 맞춤법 검사</span>
                          </label>
                          <label className="flex items-center">
                            <input 
                              type="checkbox" 
                              checked={currentConfig.rules.checkTerminology}
                              onChange={(e) => updateCheckRule(activeCheckItem, 'checkTerminology', e.target.checked)}
                              className="form-checkbox h-4 w-4 text-blue-600 mr-2" 
                            />
                            <span className="text-sm">전문 용어 검사</span>
                          </label>
                        </div>
                        
                        <div>
                          <label className="block text-sm font-medium text-gray-700 mb-2">사용자 정의 사전</label>
                          <textarea
                            value={currentConfig.rules.customDictionary.join('\n')}
                            onChange={(e) => updateCheckRule(activeCheckItem, 'customDictionary', e.target.value.split('\n').filter(word => word.trim()))}
                            placeholder="한 줄에 하나씩 단어를 입력하세요"
                            className="w-full h-32 p-2 border border-gray-300 rounded-md text-sm"
                          />
                        </div>
                      </div>
                    </div>
                  )}

                  {/* JSON 미리보기 */}
                  <div className="mt-8">
                    <label className="block text-sm font-medium text-gray-700 mb-2">
                      JSON 설정 미리보기 - {currentCheckItem.name}
                    </label>
                    <pre className="bg-gray-50 p-4 rounded-md text-sm overflow-auto max-h-60 border">
{JSON.stringify(currentConfig, null, 2)}
                    </pre>
                  </div>
                </div>
              </div>
            </div>
          </div>


        </div>
      );
    }

    const root = ReactDOM.createRoot(document.getElementById('root'));
    root.render(<App />);
  </script>
</body>
</html> 